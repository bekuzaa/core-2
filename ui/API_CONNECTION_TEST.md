# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Web UI Console ‡∏Å‡∏±‡∏ö datarhei Core API

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)
2. [‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
3. [‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
4. [‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Browser Console](#‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢-browser-console)
5. [‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ cURL](#‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢-curl)
6. [‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤)

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

Web UI ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö datarhei Core API ‡πÄ‡∏û‡∏∑‡πà‡∏≠:
- ‚úÖ Login/Authentication
- ‚úÖ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ FFmpeg processes
- ‚úÖ ‡∏î‡∏π metrics ‡πÅ‡∏•‡∏∞ statistics
- ‚úÖ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå
- ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö
- ‚úÖ ‡∏î‡∏π logs

**API Endpoints ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**
- `GET /api/v3` - System information
- `GET /api/v3/config` - Configuration
- `GET /api/v3/process` - Process list
- `GET /api/v3/metrics` - System metrics
- `GET /api/v3/session` - Active sessions

## ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Test Page (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢:

```bash
# ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
D:\Program\Zed\core-dev\core-dev\ui\test-api-connection.html
```

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:**
- ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 10 endpoints
- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö authentication
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏ö‡∏ö real-time
- ‚úÖ ‡∏ß‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤ response
- ‚úÖ ‡πÅ‡∏™‡∏î‡∏á error messages
- ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:**
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `test-api-connection.html` ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå
2. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - API URL: `http://localhost:8080`
   - Username: `admin`
   - Password: `admin123`
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "Run All Tests"
4. ‡∏£‡∏≠‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Web UI Console

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏õ‡∏¥‡∏î Developer Tools

```
Chrome/Edge: ‡∏Å‡∏î F12 ‡∏´‡∏£‡∏∑‡∏≠ Ctrl+Shift+I
Firefox: ‡∏Å‡∏î F12 ‡∏´‡∏£‡∏∑‡∏≠ Ctrl+Shift+K
Safari: ‡∏Å‡∏î Cmd+Option+I (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î Developer menu ‡∏Å‡πà‡∏≠‡∏ô)
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Console Tab

‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô console ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:**

```javascript
// Test 1: Basic connectivity (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á auth)
fetch('http://localhost:8080/api/v3')
  .then(response => response.json())
  .then(data => {
    console.log('‚úÖ API Connected!');
    console.log('Version:', data.version);
    console.log('Data:', data);
  })
  .catch(error => {
    console.error('‚ùå Connection failed:', error);
  });
```

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö Authentication:**

```javascript
// Test 2: Authentication
const username = 'admin';
const password = 'admin123';
const authHeader = 'Basic ' + btoa(username + ':' + password);

fetch('http://localhost:8080/api/v3', {
  headers: {
    'Authorization': authHeader
  }
})
  .then(response => {
    console.log('Status:', response.status);
    if (response.ok) {
      console.log('‚úÖ Authentication successful!');
      return response.json();
    } else {
      console.error('‚ùå Authentication failed!');
      throw new Error('Auth failed');
    }
  })
  .then(data => {
    console.log('System Info:', data);
  })
  .catch(error => {
    console.error('‚ùå Error:', error);
  });
```

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö Process List:**

```javascript
// Test 3: Get processes
const username = 'admin';
const password = 'admin123';
const authHeader = 'Basic ' + btoa(username + ':' + password);

fetch('http://localhost:8080/api/v3/process', {
  headers: {
    'Authorization': authHeader
  }
})
  .then(response => response.json())
  .then(data => {
    console.log('‚úÖ Processes:', data.length);
    console.log('Data:', data);
  })
  .catch(error => {
    console.error('‚ùå Error:', error);
  });
```

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö Metrics:**

```javascript
// Test 4: Get metrics
const username = 'admin';
const password = 'admin123';
const authHeader = 'Basic ' + btoa(username + ':' + password);

fetch('http://localhost:8080/api/v3/metrics', {
  headers: {
    'Authorization': authHeader
  }
})
  .then(response => response.json())
  .then(data => {
    console.log('‚úÖ Metrics received!');
    console.log('CPU:', data.cpu);
    console.log('Memory:', data.memory);
    console.log('Data:', data);
  })
  .catch(error => {
    console.error('‚ùå Error:', error);
  });
```

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö Configuration:**

```javascript
// Test 5: Get configuration
const username = 'admin';
const password = 'admin123';
const authHeader = 'Basic ' + btoa(username + ':' + password);

fetch('http://localhost:8080/api/v3/config', {
  headers: {
    'Authorization': authHeader
  }
})
  .then(response => response.json())
  .then(data => {
    console.log('‚úÖ Configuration loaded!');
    console.log('Config:', data.config);
  })
  .catch(error => {
    console.error('‚ùå Error:', error);
  });
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ (All-in-One)

Copy ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏•‡∏á Console:

```javascript
// API Connection Tester
const API_URL = 'http://localhost:8080';
const USERNAME = 'admin';
const PASSWORD = 'admin123';
const AUTH = 'Basic ' + btoa(USERNAME + ':' + PASSWORD);

const tests = [
  { name: 'Basic Connection', endpoint: '/api/v3', auth: false },
  { name: 'Authentication', endpoint: '/api/v3', auth: true },
  { name: 'System Info', endpoint: '/api/v3', auth: true },
  { name: 'Configuration', endpoint: '/api/v3/config', auth: true },
  { name: 'Processes', endpoint: '/api/v3/process', auth: true },
  { name: 'Skills', endpoint: '/api/v3/skills', auth: true },
  { name: 'Metrics', endpoint: '/api/v3/metrics', auth: true },
  { name: 'Sessions', endpoint: '/api/v3/session/active', auth: true },
  { name: 'Filesystems', endpoint: '/api/v3/fs', auth: true }
];

console.log('üîç Starting API Connection Tests...\n');

async function runTests() {
  let passed = 0;
  let failed = 0;
  
  for (const test of tests) {
    const url = API_URL + test.endpoint;
    const options = {
      headers: test.auth ? { 'Authorization': AUTH } : {}
    };
    
    try {
      const startTime = performance.now();
      const response = await fetch(url, options);
      const endTime = performance.now();
      const responseTime = Math.round(endTime - startTime);
      
      if (response.ok) {
        const data = await response.json();
        console.log(`‚úÖ ${test.name}: PASSED (${responseTime}ms)`);
        passed++;
      } else {
        console.error(`‚ùå ${test.name}: FAILED (${response.status} ${response.statusText})`);
        failed++;
      }
    } catch (error) {
      console.error(`‚ùå ${test.name}: ERROR (${error.message})`);
      failed++;
    }
    
    // Small delay between tests
    await new Promise(resolve => setTimeout(resolve, 200));
  }
  
  console.log('\nüìä Test Results:');
  console.log(`   Total: ${tests.length}`);
  console.log(`   ‚úÖ Passed: ${passed}`);
  console.log(`   ‚ùå Failed: ${failed}`);
  console.log(`   Success Rate: ${Math.round((passed / tests.length) * 100)}%`);
  
  if (failed === 0) {
    console.log('\nüéâ All tests passed! API connection is working correctly.');
  } else {
    console.log('\n‚ö†Ô∏è Some tests failed. Please check the configuration.');
  }
}

runTests();
```

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ cURL

### Test 1: Basic Connection

```bash
# ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ authentication
curl http://localhost:8080/api/v3
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:**
```json
{
  "version": {
    "number": "16.x.x",
    "build": "...",
    "arch": "amd64"
  },
  "name": "datarhei Core",
  "id": "..."
}
```

### Test 2: Authentication

```bash
# ‡πÉ‡∏ä‡πâ Basic Auth
curl -u admin:admin123 http://localhost:8080/api/v3
```

**‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Header:**
```bash
curl -H "Authorization: Basic YWRtaW46YWRtaW4xMjM=" http://localhost:8080/api/v3
```

### Test 3: Get Processes

```bash
curl -u admin:admin123 http://localhost:8080/api/v3/process
```

### Test 4: Get Configuration

```bash
curl -u admin:admin123 http://localhost:8080/api/v3/config
```

### Test 5: Get Metrics

```bash
curl -u admin:admin123 http://localhost:8080/api/v3/metrics
```

### Test 6: Get Skills

```bash
curl -u admin:admin123 http://localhost:8080/api/v3/skills
```

### Test 7: Check CORS

```bash
curl -I -X OPTIONS http://localhost:8080/api/v3
```

**‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ Headers ‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:**
```
Access-Control-Allow-Origin: *
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS
Access-Control-Allow-Headers: ...
```

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Core Backend ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Docker containers
docker ps | grep datarhei

# ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ curl
curl http://localhost:8080/api/v3

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs
docker logs datarhei-core
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å UI

1. ‡πÄ‡∏õ‡∏¥‡∏î Web UI: http://localhost:3000
2. ‡∏Å‡∏î F12 ‡πÄ‡∏õ‡∏¥‡∏î Developer Tools
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Console tab
4. ‡∏î‡∏π Network tab (‡πÅ‡∏™‡∏î‡∏á API requests)
5. ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏° Login

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network Tab:**
- ‡∏î‡∏π Request URL: ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô `http://localhost:8080/api/v3`
- ‡∏î‡∏π Status Code: ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô `200 OK`
- ‡∏î‡∏π Response: ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ JSON data
- ‡∏î‡∏π Headers: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `Authorization` header

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

**Login:**
```javascript
// ‡πÉ‡∏ô Browser Console
fetch('http://localhost:8080/api/v3', {
  headers: {
    'Authorization': 'Basic ' + btoa('admin:admin123')
  }
})
.then(r => r.json())
.then(d => console.log('‚úÖ Login OK:', d))
.catch(e => console.error('‚ùå Login Failed:', e));
```

**Get Processes:**
```javascript
fetch('http://localhost:8080/api/v3/process', {
  headers: {
    'Authorization': 'Basic ' + btoa('admin:admin123')
  }
})
.then(r => r.json())
.then(d => console.log('‚úÖ Processes:', d))
.catch(e => console.error('‚ùå Failed:', e));
```

**Get Metrics:**
```javascript
fetch('http://localhost:8080/api/v3/metrics', {
  headers: {
    'Authorization': 'Basic ' + btoa('admin:admin123')
  }
})
.then(r => r.json())
.then(d => console.log('‚úÖ Metrics:', d))
.catch(e => console.error('‚ùå Failed:', e));
```

## ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: Connection Refused

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
Failed to fetch
net::ERR_CONNECTION_REFUSED
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Core ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
docker ps | grep datarhei-core

# 2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
docker-compose up -d datarhei-core

# 3. ‡∏£‡∏≠‡πÉ‡∏´‡πâ Core ‡∏û‡∏£‡πâ‡∏≠‡∏° (15-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
docker logs -f datarhei-core

# 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
curl http://localhost:8080/api/v3
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: CORS Error

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
Access to fetch has been blocked by CORS policy
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

**‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Development Mode:**
```javascript
// vite.config.js ‡∏°‡∏µ proxy ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true
    }
  }
}
```

**‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Production (Docker):**
```nginx
# nginx.conf ‡∏°‡∏µ CORS headers ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
location /api {
    proxy_pass http://datarhei-core:8080;
    
    # CORS headers
    add_header Access-Control-Allow-Origin * always;
    add_header Access-Control-Allow-Methods 'GET, POST, PUT, DELETE, OPTIONS' always;
}
```

**‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö CORS:**
```bash
curl -I -X OPTIONS http://localhost:8080/api/v3
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: Authentication Failed (401)

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
401 Unauthorized
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö credentials ‡πÉ‡∏ô docker-compose.yml
cat docker-compose.yml | grep AUTH

# 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Base64 encoding
echo -n 'admin:admin123' | base64
# Output: YWRtaW46YWRtaW4xMjM=

# 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ curl
curl -u admin:admin123 http://localhost:8080/api/v3

# 4. ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏•‡∏≠‡∏á restart Core
docker-compose restart datarhei-core
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 4: 404 Not Found

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
404 Not Found
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- URL ‡∏ú‡∏¥‡∏î
- Endpoint ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á
- Proxy ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL
curl http://localhost:8080/api/v3

# 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö version
curl http://localhost:8080/api/v3/about

# 3. ‡∏î‡∏π Swagger documentation
# ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö: http://localhost:8080/api/swagger/index.html
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 5: Network Timeout

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
Request timeout
net::ERR_TIMED_OUT
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network
ping localhost

# 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö firewall
# Windows
netsh advfirewall firewall show rule name=all | findstr 8080

# Linux
sudo ufw status | grep 8080

# 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Docker network
docker network inspect datarhei-network

# 4. Restart Docker
docker-compose restart
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 6: Proxy Error (502 Bad Gateway)

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
502 Bad Gateway
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**

```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Core backend
curl http://localhost:8080/api/v3

# 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö UI container
docker logs datarhei-ui

# 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö nginx config
docker exec datarhei-ui cat /etc/nginx/conf.d/default.conf

# 4. Restart UI
docker-compose restart datarhei-ui
```

## Checklist ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:
- [ ] Docker ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß
- [ ] Docker Compose ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß
- [ ] Containers ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà
- [ ] Port 8080 ‡πÅ‡∏•‡∏∞ 3000 ‡∏ß‡πà‡∏≤‡∏á

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:
- [ ] Core backend ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà (port 8080)
- [ ] UI ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà (port 3000)
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á http://localhost:8080/api/v3 ‡πÑ‡∏î‡πâ
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á http://localhost:3000 ‡πÑ‡∏î‡πâ

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö API:
- [ ] Basic connection ‡πÑ‡∏î‡πâ
- [ ] Authentication ‡∏ú‡πà‡∏≤‡∏ô
- [ ] Get system info ‡πÑ‡∏î‡πâ
- [ ] Get configuration ‡πÑ‡∏î‡πâ
- [ ] Get processes ‡πÑ‡∏î‡πâ
- [ ] Get metrics ‡πÑ‡∏î‡πâ
- [ ] Get sessions ‡πÑ‡∏î‡πâ

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö UI:
- [ ] Login ‡πÑ‡∏î‡πâ
- [ ] Dashboard ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- [ ] Process list ‡πÅ‡∏™‡∏î‡∏á
- [ ] Metrics ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü
- [ ] Settings ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ
- [ ] Logs ‡πÅ‡∏™‡∏î‡∏á

## ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### 1. Postman Collection

‡∏™‡∏£‡πâ‡∏≤‡∏á Collection ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:

```json
{
  "info": {
    "name": "datarhei Core API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "basic",
    "basic": [
      {"key": "username", "value": "admin"},
      {"key": "password", "value": "admin123"}
    ]
  },
  "item": [
    {
      "name": "Get System Info",
      "request": {
        "method": "GET",
        "url": "http://localhost:8080/api/v3"
      }
    },
    {
      "name": "Get Processes",
      "request": {
        "method": "GET",
        "url": "http://localhost:8080/api/v3/process"
      }
    }
  ]
}
```

### 2. Chrome Extension: REST Client

‡πÉ‡∏ä‡πâ extension ‡πÄ‡∏ä‡πà‡∏ô:
- **REST Client** - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡πÉ‡∏ô VSCode
- **Insomnia** - REST client ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Desktop
- **Thunder Client** - VSCode extension

### 3. Script ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `test-api.sh`:

```bash
#!/bin/bash

API_URL="http://localhost:8080"
USERNAME="admin"
PASSWORD="admin123"
AUTH=$(echo -n "$USERNAME:$PASSWORD" | base64)

echo "Testing datarhei Core API..."
echo ""

# Test 1: Basic Connection
echo "1. Testing basic connection..."
curl -s "$API_URL/api/v3" > /dev/null && echo "   ‚úÖ PASSED" || echo "   ‚ùå FAILED"

# Test 2: Authentication
echo "2. Testing authentication..."
curl -s -u "$USERNAME:$PASSWORD" "$API_URL/api/v3" > /dev/null && echo "   ‚úÖ PASSED" || echo "   ‚ùå FAILED"

# Test 3: Get Processes
echo "3. Testing get processes..."
curl -s -u "$USERNAME:$PASSWORD" "$API_URL/api/v3/process" > /dev/null && echo "   ‚úÖ PASSED" || echo "   ‚ùå FAILED"

# Test 4: Get Config
echo "4. Testing get config..."
curl -s -u "$USERNAME:$PASSWORD" "$API_URL/api/v3/config" > /dev/null && echo "   ‚úÖ PASSED" || echo "   ‚ùå FAILED"

# Test 5: Get Metrics
echo "5. Testing get metrics..."
curl -s -u "$USERNAME:$PASSWORD" "$API_URL/api/v3/metrics" > /dev/null && echo "   ‚úÖ PASSED" || echo "   ‚ùå FAILED"

echo ""
echo "Tests completed!"
```

‡∏£‡∏±‡∏ô:
```bash
chmod +x test-api.sh
./test-api.sh
```

## ‡∏™‡∏£‡∏∏‡∏õ

### ‚úÖ API ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:

1. **Basic Connection**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á `/api/v3` ‡πÑ‡∏î‡πâ
2. **Authentication**: Login ‡∏î‡πâ‡∏ß‡∏¢ admin/admin123 ‡πÑ‡∏î‡πâ
3. **Data Access**: ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å endpoints ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏î‡πâ
4. **Response Time**: < 1000ms ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö requests ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
5. **No Errors**: ‡πÑ‡∏°‡πà‡∏°‡∏µ CORS errors, 401, 403, 500 errors

### üîß ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ:

1. ‚úÖ `test-api-connection.html` - Web-based tester
2. ‚úÖ Browser Console - JavaScript tests
3. ‚úÖ cURL commands - Command-line tests
4. ‚úÖ Network tab - Browser DevTools
5. ‚úÖ Swagger UI - Interactive API docs

### üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:

- **Swagger UI**: http://localhost:8080/api/swagger
- **API Documentation**: See `README.md`
- **Docker Logs**: `docker logs datarhei-core`

---

**‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Checklist ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
2. ‡∏î‡∏π logs: `docker-compose logs -f`
3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ test-api-connection.html
4. ‡∏≠‡πà‡∏≤‡∏ô Troubleshooting section

**‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠:**
- GitHub: https://github.com/datarhei/core/issues
- Documentation: https://docs.datarhei.com/core

Made with ‚ù§Ô∏è for datarhei community